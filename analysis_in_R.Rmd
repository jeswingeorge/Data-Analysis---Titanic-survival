---
title: "titanic_test"
author: "Jeswin"
date: "13 October 2017"
output: html_document
---

```{r messages=FALSE, warning = FALSE}
# installing packages
library(ggplot2)
library(dplyr)
library(tidyr)
```

__Very Imp :__ Use `na.strings = ""` so that R assumes empty space as NA values
instead of converting it into empty strings.

[Refer this blog](https://science.nature.nps.gov/im/datamgmt/statistics/r/fundamentals/manipulation.cfm)

```{r messages=FALSE, warning = FALSE}
training_df <- read.csv('titanic-data.csv', sep = ',',header = TRUE, stringsAsFactors = FALSE, na.strings = "" )
dim(training_df)
```

***

## Explaining the dataset

The above dataset consists of a list of 891 passengers who were onboard on the  

Titanic. The above dataset consists of 891 rows and 12 columns. The 12 columns  

gives the following details about the passengers -  

Passenger Id  

Survived - This column gives information whether the concerned passenger had  

survived the tragedy or not.  

       1 ---> The passenger survived  
       
       0 ---> The passenger did not survive  
       
pclass - Passenger Ticket class : Class 1, 2 and 3.  

Name - Name of the passenger  

sex - Sex of the Passenger  

Age - Age in years of the Passenger  

sibsp - Number of siblings / spouses aboard the Titanic  

parch - Number of parents / children aboard the Titanic  

Ticket - Ticket number  

Fare - Passenger fare  

Cabin - Cabin number  

Embarked - Port of Embarkation shows the port from which the passenger boarded 
the titanic  

       C - Cherbourg
       
       Q - Queenstown
       
       S - Southampton
       
The objective of this project is to find out which factors could have helped in  
improving the survival chances of the passengers on board. Here , i have tried  
to find out the survival chances of passengers with respect to the given factors  
such as sex, Passenger class, port of embarkation, siblings, spouses or parents   
they had with them during the journey.


***

```{r}
head(training_df)
```

```{r}
str(training_df)
```

Along with notes, Refer [blog to deal with NA string](https://stats.idre.ucla.edu/r/faq/how-does-r-handle-missing-values/)

```{r}
colSums(is.na(training_df))
```

## Data Wranging

Dealing with NA's

```{r}
training_df$Age[is.na(training_df$Age)]<-median(training_df$Age,na.rm = TRUE)
ce <- table(training_df$Embarked)
training_df$Embarked[is.na(training_df$Embarked)] <- names(ce)[which.max(ce)]
head(training_df)
```


```{r}
colSums(is.na(training_df))
```

Removed NA values from the dataset except from the cabin column.

***

## Univariate Analysis

Checking the number of survived passengers : 

```{r}
table(training_df$Survived)
```

So 342 passengers survived and 549 passengers did not from the available dataset.

```{r fig.width=10}
ggplot(training_df, aes(x = factor(Survived)))+
  geom_bar(color='black', fill = 'white')+
  labs(title = 'bargraph of Survived people')
```

Finidng out the total number of male and female passengers on the titanic.

```{r}
table(training_df$Sex)
```

So there were more male passengers onboard the Titanic than female passengers.

```{r}
by(training_df$Survived, training_df$Sex, sum)
```

[ggplot bargraphs](http://bxhorn.com/ggplot-bar-graphs/)

```{r fig.width=10}
ggplot(training_df, aes(x = Sex, fill = factor(Survived)))+
  geom_bar(color='black', position = position_dodge())+
  labs(title='Bargraph of Survived passengers based on Sex', fill = 'Survived')
  # theme(legend.position="top")
```























